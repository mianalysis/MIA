outputPath = "C:/Users/steph/Documents/Programming/Java Projects/mia/src/test/resources/msimages/binaryoperations2D/";
name = getTitle();
bits = split(name, "_.");
dim = bits[1]
logic = bits[3]

if (logic == "LB") {
	bw = "black";
} else if (logic == "LW") {
	bw = "";
}

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Erode stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FERODE_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Dilate stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FDILATE_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Nothing");
run("Distance Map", "stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FDISTANCE_MAP_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Outline stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FOUTLINE_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=[Fill Holes] stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FFILL_HOLES_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Skeletonize stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FSKELETONISE_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Nothing");
run("Ultimate Points", "stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FULTIMATE_POINTS_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Nothing");
run("Voronoi", "stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FVORONOI_"+logic+"_C1_I1.zip");
close();

run("Duplicate...", "duplicate");
run("Options...", "iterations=1 count=1 "+bw+" do=Nothing");
run("Watershed", "stack");
saveAs("ZIP", outputPath + "BinaryOps2D_"+ dim +"_B8_FWATERSHED_"+logic+"_C1_I1.zip");
close();

close();
